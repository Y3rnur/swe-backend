{
	"info": {
		"name": "B2B Supplier-Wholesale Exchange API",
		"description": "Complete API collection for the B2B Supplier-Wholesale Exchange Platform",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "api-collection"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Signup",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"consumer@example.com\",\n  \"password\": \"SecurePass123\",\n  \"role\": \"consumer\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/signup",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "signup"]
						},
						"description": "Register a new user account (consumer or supplier_owner)"
					},
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set(\"access_token\", jsonData.access_token);",
									"    pm.environment.set(\"refresh_token\", jsonData.refresh_token);",
									"}"
								]
							}
						}
					]
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"consumer@example.com\",\n  \"password\": \"SecurePass123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "login"]
						},
						"description": "Authenticate user and get access/refresh tokens"
					},
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set(\"access_token\", jsonData.access_token);",
									"    pm.environment.set(\"refresh_token\", jsonData.refresh_token);",
									"}"
								]
							}
						}
					]
				},
				{
					"name": "Refresh Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/refresh",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "refresh"]
						},
						"description": "Get new access and refresh tokens"
					},
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set(\"access_token\", jsonData.access_token);",
									"    pm.environment.set(\"refresh_token\", jsonData.refresh_token);",
									"}"
								]
							}
						}
					]
				}
			]
		},
		{
			"name": "Links",
			"item": [
				{
					"name": "Request Link",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"supplier_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/links",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "links"]
						},
						"description": "Request a link to a supplier (consumer only)"
					}
				},
				{
					"name": "Update Link Status",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"accepted\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/links/:link_id/status",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "links", ":link_id", "status"],
							"variable": [
								{
									"key": "link_id",
									"value": "1"
								}
							]
						},
						"description": "Approve or deny a link request (supplier owner only)"
					}
				},
				{
					"name": "Get Link",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/links/:link_id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "links", ":link_id"],
							"variable": [
								{
									"key": "link_id",
									"value": "1"
								}
							]
						},
						"description": "Get a specific link by ID"
					}
				},
				{
					"name": "List Links",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/links?page=1&size=20",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "links"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "List all links (filtered by user role)"
					}
				}
			]
		},
		{
			"name": "Products",
			"item": [
				{
					"name": "Create Product",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Premium Widget\",\n  \"description\": \"High-quality widget for industrial use\",\n  \"price_kzt\": \"15000.00\",\n  \"currency\": \"KZT\",\n  \"sku\": \"WID-001\",\n  \"stock_qty\": 100,\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/products",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products"]
						},
						"description": "Create a new product (supplier owner/manager only)"
					}
				},
				{
					"name": "Update Product",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Premium Widget\",\n  \"price_kzt\": \"16000.00\",\n  \"stock_qty\": 150\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/products/:product_id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", ":product_id"],
							"variable": [
								{
									"key": "product_id",
									"value": "1"
								}
							]
						},
						"description": "Update a product (supplier owner/manager only)"
					}
				},
				{
					"name": "Delete Product",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/products/:product_id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", ":product_id"],
							"variable": [
								{
									"key": "product_id",
									"value": "1"
								}
							]
						},
						"description": "Delete a product (supplier owner only)"
					}
				},
				{
					"name": "List My Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/products?page=1&size=20",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "List products for current supplier"
					}
				}
			]
		},
		{
			"name": "Catalog",
			"item": [
				{
					"name": "List Suppliers",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/catalog/suppliers?page=1&size=20",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "catalog", "suppliers"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "List all suppliers (consumer only, requires accepted link)"
					}
				},
				{
					"name": "Get Supplier Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/catalog/suppliers/:supplier_id/products?page=1&size=20",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "catalog", "suppliers", ":supplier_id", "products"],
							"variable": [
								{
									"key": "supplier_id",
									"value": "1"
								}
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "Get products from a specific supplier (consumer only, requires accepted link)"
					}
				}
			]
		},
		{
			"name": "Orders",
			"item": [
				{
					"name": "Create Order",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"supplier_id\": 1,\n  \"items\": [\n    {\"product_id\": 1, \"qty\": 5},\n    {\"product_id\": 2, \"qty\": 3}\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/orders",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders"]
						},
						"description": "Create a new order (consumer only)"
					}
				},
				{
					"name": "Get Order",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/orders/:order_id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders", ":order_id"],
							"variable": [
								{
									"key": "order_id",
									"value": "1"
								}
							]
						},
						"description": "Get a specific order by ID"
					}
				},
				{
					"name": "List Orders",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/orders?page=1&size=20",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "List orders (filtered by user role)"
					}
				},
				{
					"name": "Update Order Status",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"accepted\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/orders/:order_id/status",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders", ":order_id", "status"],
							"variable": [
								{
									"key": "order_id",
									"value": "1"
								}
							]
						},
						"description": "Update order status (supplier owner/manager only)"
					}
				}
			]
		},
		{
			"name": "Chat",
			"item": [
				{
					"name": "Create Chat Session",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"sales_rep_id\": 3,\n  \"order_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/chats/sessions",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "chats", "sessions"]
						},
						"description": "Create a chat session (consumer only)"
					}
				},
				{
					"name": "List Chat Sessions",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/chats/sessions?page=1&size=20",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "chats", "sessions"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "List chat sessions (filtered by user role)"
					}
				},
				{
					"name": "Send Message",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"text\": \"Hello, I have a question about my order\",\n  \"file_url\": null\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/chats/sessions/:session_id/messages",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "chats", "sessions", ":session_id", "messages"],
							"variable": [
								{
									"key": "session_id",
									"value": "1"
								}
							]
						},
						"description": "Send a message in a chat session"
					}
				},
				{
					"name": "Get Messages",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/chats/sessions/:session_id/messages?page=1&size=50",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "chats", "sessions", ":session_id", "messages"],
							"variable": [
								{
									"key": "session_id",
									"value": "1"
								}
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "size",
									"value": "50"
								}
							]
						},
						"description": "Get messages from a chat session"
					}
				}
			]
		},
		{
			"name": "Complaints",
			"item": [
				{
					"name": "Create Complaint",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"order_id\": 1,\n  \"sales_rep_id\": 3,\n  \"manager_id\": 2,\n  \"description\": \"Product arrived damaged. Need replacement or refund.\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/complaints",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "complaints"]
						},
						"description": "Create a complaint (consumer only)"
					}
				},
				{
					"name": "Get Complaint",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/complaints/:complaint_id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "complaints", ":complaint_id"],
							"variable": [
								{
									"key": "complaint_id",
									"value": "1"
								}
							]
						},
						"description": "Get a specific complaint by ID"
					}
				},
				{
					"name": "List Complaints",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/complaints?page=1&size=20",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "complaints"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "List complaints (filtered by user role)"
					}
				},
				{
					"name": "Update Complaint Status",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"resolved\",\n  \"resolution\": \"Replacement product shipped. Tracking number: TRACK123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/complaints/:complaint_id/status",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "complaints", ":complaint_id", "status"],
							"variable": [
								{
									"key": "complaint_id",
									"value": "1"
								}
							]
						},
						"description": "Update complaint status (sales rep/manager only)"
					}
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get Current User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/users/me",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "users", "me"]
						},
						"description": "Get current authenticated user information"
					}
				},
				{
					"name": "Add Staff Member",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"manager@supplier.com\",\n  \"password\": \"SecurePass123\",\n  \"role\": \"supplier_manager\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/users/staff",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "users", "staff"]
						},
						"description": "Add a staff member (supplier owner only)"
					}
				}
			]
		},
		{
			"name": "Notifications",
			"item": [
				{
					"name": "List Notifications",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications?page=1&size=20",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "notifications"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "List notifications for current user"
					}
				},
				{
					"name": "Mark Notification as Read",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/notifications/:notification_id/read",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "notifications", ":notification_id", "read"],
							"variable": [
								{
									"key": "notification_id",
									"value": "1"
								}
							]
						},
						"description": "Mark a notification as read"
					}
				}
			]
		},
		{
			"name": "Health",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						},
						"description": "Check API health status"
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		}
	]
}
